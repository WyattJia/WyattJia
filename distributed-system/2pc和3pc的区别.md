### 2pc

两类节点: 
  * 协调者   一个系统只有一个
  * 参与者   workers, 一个系统包含多个，为数据副本的个数

两个阶段:
  * 请求阶段:
    * 协调者 ->通知-> 参与者 准备(prepare) 提交或者取消事务
    * 协调者 <-返回决策<- 参与者 表决同意或者取消事务
  * 提交阶段:
    * 协调者根据表决出来的决策结果进行下一步决策
      * 提交事务
      * 取消事务
    * 所有参与者都通过表决之后再通知参与者提交事务，否则就取消。
