五一放假之前在网上投了简历，放假回来收到现场面试的通知，约了五月八号下午面试,面试邀约上的 title 是高级后端工程师，但是自认为自己还没到高级的段位。

### 面试过程:

面试地点在近铁广场北座，我走错到了饿了么总部所在的南座，发现之后再赶到面试地点已经迟到了十分钟左右，到了之后发现面试官已经在座位上了,有点慌。
面试官看起来三十岁左右，目测就是传说中的 tevin 。面试官看了一会儿我的简历之后，我正心想我是不是应该主动打招呼自我介绍。


### 你觉得你自己最与众不同的方面在哪里

我会在学习或者工作过程中我会记录下不了解的关键词，从关键词上手逐步建立起系统的知识。

### 说说你最近了解到关键词

我答的是几个月之前看过一本《Linux 系统编程手册》 的书，了解了一些 Linux 接口的相关知识。（其实那本书内容还是挺多的，包括了 APUE 和 UNP 的知识，我看了一遍之后还没消化好。

### 什么是进程，什么是线程

我回答是进程相当于对操作系统资源的划分，线程是进程的子集，是对于进程资源的进一步划分，没有实体。

### 为什么要有线程这种东西

当时我答的是因为进程管理的资源太大了，不好细化分配工作，答得比较含糊。

线程的作用应该是共享进程的上下文环境，将进程划分为更加细小的 CPU 时间片，线程属于 CPU 调度单位之一，而进程属于 CPU 资源分配单位。

### 进程是由谁来调度的

通过 Linux 内核调度的。

### grub 是什么

GUN 启动引导

### tcpdump 的原理是什么

没答上来，含糊的表示从内核态抓取相应的网络包到用户态，记录相关网络包的信息。

原理大致如下:

`tcpdump` 是通过 `libpcap` 来抓取报文的，`libpcap` 是 Linux 下的一个网络数据包捕获函数库。tcpdump 先利用 libpcap 工具抓取 linux 网络栈中的数据包。linux
下的抓包原理是，通过注册一种虚拟的底层网络协议来完成对网络报文消息的处理权。网卡接受到一个网络报文之后，它会遍历系统中所有已经注册的网络协议来进行报文解析处理。抓包模块吧自己伪装成一个网络协议的时候，系统在收到报文的时候就会给之前注册的虚拟协议一次机会，让它来对网卡收到的报文进行一次处理，然后虚拟协议模块会对报文处理，复制整个报文给抓包模块。 

### 什么是内核态什么是用户态

当时我回答的是内核态控制着只有内核能用的内存，cpu 等资源，用户态控制由用户编写程序的用到资源，内核态的权限高于用户态。答得不太清晰。

梳理一下的答案应该是：内核态控制着计算机的硬件资源，为上层应用程序提供运行环境。用户态是上层应用程序的运行空间，其依赖于内核态提供的硬件资源，用户态通过内核态提供的系统调用接口来访问硬件资源。

### 用户态进程可以向内核态进程写东西吗，内核态进程可以向用户态进程写东西吗

当时没答上来，表示了用户态进程如果有足够权限的话可以向内核态进程通信，应该是搞混成 IPC 工具可访问性了。其实内核态进程和用户态进程之间的通信是不同于传统的 IPC 方式的。查了一下有9种机制可以提供内核态和用户态之间的通信，分别是:内核启动参数、模块参数与 `sysfs`、`sysctl`、`系统调用`、`netlink`、`procfs`、`seq_file`、`debugfs`和`relayfs`。

### 怎么判断用户态进程有权限向内核态进程写东西，或者说怎么判断用户权限

没答上来。

内核态和用户态的通信机制中，模块参数与`sysfs`、`procfs`、`debugfs`、`relayfs` 机制是基于文件系统的通信机制，应该是通过文件权限掩码来判断其权限，文件权限掩码指定了所有者，组和其他用户的权限。`sysctl`、系统调用是由用户空间发起的单工通信机制，应该也是通过权限掩码来判断权限的， Netlink 是基于 socket 的通信机制，unix socket 由权限掩码判断权限，Internet socket 则没有权限验证机制。

### 知道并发和并行的区别吗 加入有很多人同时在准备点击抢红包按钮，按下按钮的那一刻，那部分属于并发那部分属于并行

并发是同时应对多件事情，并行是同时做多件事情。我对例子解释的不好，正确的解释应该是，同时启动多台服务器是并行，服务器中同时启动多个进程多个线程是并发。

### 知道 Python 有 GIL 吧，为什么 Python 有 GIL 了还需要保证线程安全



### 介绍一下 actor model 的特点

学 elixir 的时候了解过，自己也写过相关的[博客](https://github.com/wellls/blog/issues/4)，问的时候没答上来，有点懵。
参考答案是，一切皆 actor, 异步非阻塞，事件驱动，actor 自身可以做计算，actor 颗粒度较细，可同时运行上百万个 actor 。

### 有哪些著名的开源项目用了 actor model 

akka

### akka 是为了解决分布式中哪一个问题

没答上来，答案应该是提高分布式架构的可伸缩性，提高容错。

### 讲一下 webframework 的运行原理

根据用户发起请求中的 url header http method 等信息，找到相应的代码，处理之后发送 response,连接 http 层面到代码逻辑层面。

### wsgi 的作用

能够使 Python 程序使用统一的借口处理 http 请求和响应。 

### cgi 和 wsgi 的区别在哪里，为什么要选择用 wsgi

没答上来有什么区别，感觉没多大区别，wsgi 就是 Python 专有的 cgi 而已...

### 工作中或者生活中有解决的哪个问题让你有成就感的，不管是技术上还是生活上，你觉得你自己技术上最闪光点的点是什么时候，是哪点

### Python 读文件加了读写锁，进程被异常终止了，锁状态还会存在吗，存在的话，重启之后锁状态还保持有效吗？

答的是锁还在，回来后写了个脚本用 lsof 测试了一波，发现锁被释放掉了。

### 为什么 Redis 的 sorted set 用了 skip list ，而 MVCC 用了 B+ 树， redis 选择跳表的理由是什么，关系型数据库选择 B+ 树的理由是什么

skip list 并发性能较好，因为更新元素之后不需要重新平衡整个数据结构，代码结构简单。skip list 相较于 b+ 树的劣势有 P 值难以确定，因为各平台的硬件性能不同，出现较晚。还有一点在面试的时候没有提到，skip list 的最差空间复杂度是 O(nlog(n)) 应该也是跟 P 值有关系，而且其最差时间复杂度 O(n) 也高于 B+ 树。

### MVCC B+ 树的时间复杂度是多少

log2N

### 什么是时间复杂度 

处理数据结构的时候，某个行为所需要操作的次数。

### 设a = 0;想要将 a变为4; O(a + 1 + 1 + 1 + 1)这个操作的时间复杂度是多少

答的是 O(4)，当操作数为一个常数的时候，可以称这个算法的时间复杂度是 O(1)，4 此时常数，所以答案应该省略成 O(1) 。

### 口头问了一个背包问题的解法

### 什么是背包问题

从给定条件的组合中取出最优的组合。

### 什么是动态规划

将复杂度高的问题分解成多个复杂度低的小问题，逐一解决。

### 你有什么问题想要问我的吗？

